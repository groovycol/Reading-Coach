{% extends 'base.html' %}
{% block content %} 


    <script src="https://code.jquery.com/jquery.js"></script>
    <form action="/register_process" method="POST">

    <script>
        // Prevent form submission until phone number matches xxx-xxx-xxx pattern
       $("form").submit( function(evt) {
            var phone_string = $('#phone_num').val(); 
            if (! /^[0-9]{3}-[0-9]{3}-[0-9]{4}$/.test(phone_string)) {
                evt.preventDefault();
                alert("Please enter a telephone number in the format xxx-xxx-xxxx");
            }
        });
    </script>
    <br>
    <br>
    <label for="phone">Phone number:
        <input type="text" name="coach_phone" id="phone_num" placeholder="xxx-xxx-xxxx" required> 
        <div id="phone_msg">xxx-xxx-xxxx format. US numbers only. This must be a text message enabled phone. You will be able to log your reader's minutes right from your phone! You can also receive daily text message (sms) reminders
        </div>
    </label>
    <br>
    <br>
    <div>
        <script>
            // SHow a message about password format
            $(document).ready(function() {
                $('#password_msg').hide();
                $('#password').on('click', function(){
                $('#password_msg').show(); });
            });
        </script>
        <label>Password:
            <input type="password" name="password" id="password" required>
        </label>
        <div id="password_msg" hidden>Password or Phrase (alpha, numeric, spaces and special characters allowed). Minimum 6 characters. Max 25 characters.</div>
    </div>
    <br>
    <div>
        <label>Your reader's first name:
            <input type="text" name="first_name" required>
        </label>
    </div>
    <div>
        <label>Share progress with a Teacher or Organization:
            <select name="admin_id" id="admin_id">
                {% for admin in admins %}
                    {% if admin.nameprefix.prefix == "Organization" %}
                        <option value="{{admin.admin_id}}"> {{admin.name}}</option>
                    {% else %}
                        <option value="{{admin.admin_id}}">{{admin.nameprefix.prefix}} {{admin.name}}</option>
                    {% endif %}
                {% endfor %}
                </select>
        </label>
    </div>
    <br>
    <br>
    <script>
        $(document).ready(function() {
                $('#add_reader').hide();
                $('#admin_show').hide();
                $('#admin_id2').hide();
                $('#more_boxes').on('click', function(){
                $('#add_reader').show();
                $('#admin_show').show();
                $('#admin_id2').show(); });
            });
    </script>
    <div>
    <input type="button" id="more_boxes" value="Add Additional Reader">
        <label for="additional readers">
            <input type="text" id="add_reader" name="add_reader" value="" placeholder="reader's first name" hidden>
        </label>
    </div>
    <div>
        <label id="admin_show" hidden>Share progress with a Teacher or Organization:
            <select name="admin_id2" id="admin_id2" hidden>
                {% for admin in admins %}
                    {% if admin.nameprefix.prefix == "Organization" %}
                        <option value="{{admin.admin_id}}"> {{admin.name}}</option>
                    {% else %}
                        <option value="{{admin.admin_id}}">{{admin.nameprefix.prefix}} {{admin.name}}</option>
                    {% endif %}
                {% endfor %}
                </select>
        </label>
    </div>
    <br>
    <br>
    <div>
        <label>Email address (optional):
            <input type="text" name="email" id="email">
        </label>
    </div>
    <div>
        <input type="submit" id="submit" value="Register">
    </div>
    </form>


{% endblock %}
